"use strict";(self.webpackChunkreact_quotes=self.webpackChunkreact_quotes||[]).push([[165],{82:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var s=n(439),c=n(791),r=n(689),o="HighlightedQuote_quote__dE8qA",m=n(184),d=function(e){return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("figure",{className:o,children:[(0,m.jsx)("p",{children:e.text}),(0,m.jsx)("figcaption",{children:e.author})]})})},a=n(556),u=n(995),i=n(853),l="CommentItem_item__+vwzS",x=function(e){return(0,m.jsx)("li",{className:l,children:(0,m.jsx)("p",{children:e.text})})},h="CommentsList_comments__UVWAR",f=function(e){return(0,m.jsx)("ul",{className:h,children:e.comments.map((function(e){return(0,m.jsx)(x,{text:e.text},e.id)}))})},j="Comments_comments__9cxIN",_="NewCommentForm_form__C3cQf",N="NewCommentForm_control__iR6jS",p="NewCommentForm_actions__NC323",C=function(e){var t=(0,u.Z)(i.Ir),n=t.sendRequest,s=t.status,r=t.error,o=(0,c.useRef)(),d=e.onAddedComment,l=e.quoteId;(0,c.useEffect)((function(){"completed"!==s||r||d()}),[s,r,d]);var x=function(e){e.preventDefault();var t=o.current.value;n({commentData:{text:t},quoteId:l})};return(0,m.jsxs)("form",{className:_,onSubmit:x,children:["pending"===s&&(0,m.jsx)("div",{className:"centered",children:(0,m.jsx)(a.Z,{})}),(0,m.jsxs)("div",{className:N,onSubmit:x,children:[(0,m.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,m.jsx)("textarea",{id:"comment",rows:"5",ref:o})]}),(0,m.jsx)("div",{className:p,children:(0,m.jsx)("button",{className:"btn",children:"Add Comment"})})]})},v=function(e){var t=(0,c.useState)(!1),n=(0,s.Z)(t,2),r=n[0],o=n[1],d=(0,u.Z)(i.h_),l=d.data,x=d.status,h=d.sendRequest,_=e.quoteId;(0,c.useEffect)((function(){h(_)}),[_,h]);var N,p=(0,c.useCallback)((function(){h(_)}),[h,_]);return"pending"===x&&(N=(0,m.jsx)("div",{className:"centered",children:(0,m.jsx)(a.Z,{})})),"completed"===x&&l&&l.length>0&&(N=(0,m.jsx)(f,{comments:l})),"completed"!==x||l&&0!==l.length||(N=(0,m.jsx)("p",{className:"centered",children:"No comments were added yet!"})),(0,m.jsxs)("section",{className:j,children:[(0,m.jsx)("h2",{children:"User Comments"}),!r&&(0,m.jsx)("button",{className:"btn",onClick:function(){o(!0)},children:"Add a Comment"}),r&&(0,m.jsx)(C,{onAddedComment:p,quoteId:_}),N]})},q=function(){var e=(0,r.UO)(),t=(0,c.useState)(!1),n=(0,s.Z)(t,2),o=n[0],l=n[1],x=(0,u.Z)(i.jR,!0),h=x.data,f=x.status,j=x.error,_=x.sendRequest,N=e.quoteId;return(0,c.useEffect)((function(){_(N)}),[_,N]),"pending"===f?(0,m.jsx)("div",{className:"centered",children:(0,m.jsx)(a.Z,{})}):j?(0,m.jsx)("p",{className:"centered focused",children:j}):"completed"!==f||h.text?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d,{text:h.text,author:h.author},h.id),(0,m.jsx)("button",{className:"btn--flat centered",onClick:function(){return l((function(e){return!e}))},children:o?"Hide comments":"Show comments"}),o&&(0,m.jsx)(v,{quoteId:N})]}):(0,m.jsx)("p",{children:"Error page 404"})}}}]);
//# sourceMappingURL=165.1f9dae60.chunk.js.map